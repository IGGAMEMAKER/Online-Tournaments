//

mixin GetValue(text, name, type)
	tr
		td #{text}
		td
			if type
				input(id=name, type=type, name=name)
			else
				input(id=name, type="text", name=name)
		td
			p(id=name+"Validator") *

		

mixin RegForm()
	table
		+GetValue("Email" ,"email")
		+GetValue("Login", "login")
		+GetValue("Password", "password", "password")
		tr
			td
			td
				p.
				input(id="submitButton" type="submit", value="Register")
		

div(class="bloc l-bloc bgc-white bloc-tile-2" id="bloc-15")
	div(class="container bloc-lg")
		div(class="row")
			div(class="col-sm-12")
				//form(id="form-4" action="/Register" method="post" novalidate)
					center
						h3(class="mg-md" id="register") Регистрация
					div(class="form-group")
						label Логин
						input(id="name4" class="form-control" type="text" name="login" required)
					div(class="form-group")
						label Пароль
						input(id="password" class="form-control" type="password" name="password" required)
					div(class="form-group")
						label Email
						input(id="email4" class="form-control" type="email" name="email" required)
					a(href="#login") У меня уже есть аккаунт
					br
					br
					button(class="btn btn-lg btn-primary" style="width:100%; border-radius:6px;" id="register" type="submit") Начать бесплатно

				div(class="alert alert-success" id="validOK" style="display:none;")
					strong Данные корректны!
				div(class="alert alert-warning" id="typeData")
					strong Заполните поля
					//a(href="#" class="close" data-dismiss="alert" aria-label="close")&times;
				div(class="alert alert-danger" id="invalid" style="display:none;")
					strong Длина логина не более 25 символов
					br
					strong ы
				if msg
					case msg
						when 500
							div(class="alert alert-danger")
								strong Внутренняя ошибка сервера( Попробуйте позже
							//p Server Error. Report about this bug
						when 11000
							div(class="alert alert-danger")
								strong Пользователь с таким логином уже существует( 
								br
								Придумайте другой логин
							//p User exists( Try another login
						when 100
							div(class="alert alert-danger")
								strong Некорректные данные. Повторите ввод данных
							p Invalid data
						default
							div(class="alert alert-danger")
								strong Внутренняя ошибка сервера( Попробуйте позже
							p Not Error, but no Success... it's strange... report about this error
							p!= msg
							p!= JSON.stringify(msg)
			
				div#loginbox
						form(name="Register", action="/Register", method="post")
							+RegForm()
				br
				br
				a(href="Login") Log in

